{"version":3,"sources":["api/_instance.js","api/index.js","hooks/useModal.js","components/OverlayModal.js","contexts/AuthContext.js","hooks/useAuth.js","components/BottomMenu.js","styles/ui.js","pages/Login.js","components/Printer.js","components/PrinterList.js","components/UserProfile.js","contexts/UIContext.js","hooks/usePrinter.js","hooks/useHistory.js","pages/Main.js","components/History.js","components/Tabs.js","pages/History.js","hooks/useTabs.js","pages/Ranking.js","pages/Admin.js","App.js","index.js"],"names":["instanceAxios","axios","create","baseURL","defaults","headers","common","localStorage","getItem","API","login","userId","password","fnRSAEnc","encodeId","encodePassword","formData","FormData","append","_axios","post","response","data","code","auth","get","getAdmins","createAdmin","payload","deleteAdmin","delete","getPrinters","deletePrinter","printerId","printer","updatePrinter","put","createPrinter","printerReservation","resInfo","name","phone","outputHour","outputMinute","getHistory","getRanking","Object","keys","reduce","acc","val","a","message","useModal","initOpen","React","useState","open","state","setState","handleOpen","useCallback","handleClose","setTimeout","Overlay","styled","div","props","OverlayModal","children","onClose","onClick","e","stopPropagation","initState","token","fetching","userInfo","id","logout","AuthContext","createContext","AuthContextProvider","admins","setAdmins","setUserInfo","modal","setItem","window","location","href","alert","msg","setUserAuth","refreshToken","isAdmin","removeItem","useAuth","Provider","value","color","className","Wrapper","Item","NavLink","BottomMenu","routes","map","route","exact","to","link","activeStyle","icon","FormControl","FormActionControl","List","Card","CardHeader","CardTitle","h2","CardBody","Tabs","TabItem","button","active","LoginWrapper","LoginCard","Header","Title","h1","SubTitle","Login","useContext","formik","useFormik","initialValues","number","onSubmit","values","handleSubmit","htmlFor","type","placeholder","onChange","handleChange","PrinterWrapper","Printer","loading","latest","userName","moment","startDate","format","endDate","ListWrapper","PrinterList","title","printers","printerEtcProps","Left","Right","onShow","UIContext","UIContextProvider","option","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","console","log","usePrinter","setPrinters","useHistory","history","setHistory","ranking","setRanking","fetch","historys","createHistory","MainWrapper","MainUserProfile","left","right","TimeWrapper","MainList","Main","activePrinter","setActivePrinter","reactUseHistory","Number","push","_printers","useEffect","setValues","length","disabled","defaultValue","pattern","inputMode","History","userPhone","replace","tabs","onActive","tab","ItemWrapper","Body","Empty","initActive","setActive","handleTabClick","useTabs","useLocation","printerTabs","URLSearchParams","search","RankingTable","table","Ranking","key","count","HomeLink","Link","BetWeen","AddPrinterButton","Admin","inputId","setInputId","handleAddClick","handleDeleteClick","handleUpdateClick","input","document","getElementById","printerName","admin","readOnly","target","BottomMenuWrapper","ContentWrapper","UserAuth","App","path","ReactDOM","render","StrictMode"],"mappings":"uRAEMA,EAAgBC,IAAMC,OAAO,CACjCC,QAA2E,MAG7EH,EAAcI,SAASC,QAAQC,OAA/B,cAAyD,UAAUC,aAAaC,QAAQ,cAEzER,QCLTS,EAAM,CACJC,MADI,SACGC,EAAQC,GAAW,OAAD,6HAEM,CAACC,SAAS,GAAGF,GAASE,SAAS,GAAGD,IAA9DE,EAFsB,KAEZC,EAFY,MAGvBC,EAAW,IAAIC,UAEZC,OAAO,UAAWJ,GAC3BE,EAASE,OAAO,YAAaH,GAC7BC,EAASE,OAAO,UAAW,cAC3BF,EAASE,OAAO,SAAU,IARG,SAUNC,IAAOC,KAAK,oDAAqDJ,EAAU,CAChGX,QAAS,CACP,KAAQ,uBAZiB,OAUvBgB,EAVuB,YAgBrBA,EAASC,KAAKC,KAhBO,OAiBtB,QAjBsB,MAkBtB,QAlBsB,0CAmBFtB,EAAMmB,KAAK,SAAU,CAC1CT,SACAC,aArBuB,eAmBnBS,EAnBmB,yBAuBlBA,EAASC,MAvBS,eA0BzBD,EAASC,KAAKC,KAAO,IA1BI,kBA2BlBF,EAASC,MA3BS,+CAgCzBE,KAjCI,WAiCI,OAAD,0HACYvB,EAAMwB,IAAI,SADtB,cACLJ,EADK,yBAEJA,EAASC,MAFL,8CAKPI,UAtCI,WAsCS,OAAD,0HACOzB,EAAMwB,IAAI,gBADjB,cACVJ,EADU,yBAETA,EAASC,MAFA,8CAKZK,YA3CI,SA2CQC,GAAU,OAAD,0HACF3B,EAAMmB,KAAK,eAAgBQ,GADzB,cACnBP,EADmB,yBAElBA,EAASC,MAFS,8CAKrBO,YAhDI,SAgDQlB,GAAS,OAAD,0HACDV,EAAM6B,OAAN,uBAA6BnB,IAD5B,cAClBU,EADkB,yBAEjBA,EAASC,MAFQ,8CAKpBS,YArDI,WAqDW,OAAD,0HACK9B,EAAMwB,IAAI,aADf,cACZJ,EADY,yBAEXA,EAASC,MAFE,8CAKdU,cA1DI,SA0DUC,EAAWC,GAAU,OAAD,0HACfjC,EAAM6B,OAAN,oBAA0BG,GAAaC,GADxB,cAChCb,EADgC,yBAE/BA,EAASC,MAFsB,8CAKlCa,cA/DI,SA+DUF,EAAWC,GAAU,OAAD,0HACfjC,EAAMmC,IAAN,oBAAuBH,GAAaC,GADrB,cAChCb,EADgC,yBAE/BA,EAASC,MAFsB,8CAKlCe,cApEI,SAoEUH,GAAU,OAAD,0HACJjC,EAAMmB,KAAK,YAAac,GADpB,cACrBb,EADqB,yBAEpBA,EAASC,MAFW,8CAKvBgB,mBAzEI,SAyEeC,GAAU,OAAD,0HACTtC,EAAMmB,KAAK,YAAa,CAC7Ca,UAAWM,EAAQN,UACnBO,KAAM,GAAGD,EAAQC,KACjBC,MAAO,GAAGF,EAAQE,MAClBC,WAAYH,EAAQG,WACpBC,aAAcJ,EAAQI,eANQ,cAC1BtB,EAD0B,yBASzBA,EAASC,MATgB,8CAY5BsB,WArFI,SAqFOX,GAAY,OAAD,0HACHhC,EAAMwB,IAAN,oBAAuBQ,IADpB,cACpBZ,EADoB,yBAEnBA,EAASC,MAFU,8CAKtBuB,WA1FI,WA0FU,OAAD,0HACM5C,EAAMwB,IAAI,qBADhB,cACXJ,EADW,yBAEVA,EAASC,MAFC,+CAMNwB,SAAOC,KAAKtC,GAAKuC,QAAO,SAACC,EAAKC,GAC3C,MAAwB,oBAAbzC,EAAIyC,GACN,2BACFD,GADL,kBAEGC,EAFH,sBAES,sCAAAC,EAAA,+EAEU1C,EAAIyC,GAAJ,MAAAzC,EAAG,GAFb,iGAII,CACL2C,QAAQ,EAAD,GACP7B,KAAM,MANL,0DAYF,2BAAK0B,GAAZ,kBAAkBC,EAAMzC,EAAIyC,OAE7B,ICnHY,SAASG,IAA4B,IAAnBC,EAAkB,0DACvBC,IAAMC,SAAS,CACvCC,KAAMH,EACNF,QAAS,KAHsC,mBAC1CM,EAD0C,KACnCC,EADmC,KAM3CC,EAAaL,IAAMM,aAAY,SAACT,GACpCO,EAAS,CACPF,MAAM,EACNL,cAED,IAEGU,EAAcP,IAAMM,aAAY,WACpCE,YAAW,WACTJ,EAAS,CACPF,MAAM,EACNL,QAAS,OAEV,OACF,IAEH,MAAO,CACLK,KAAMC,EAAMD,KACZL,QAASM,EAAMN,QAEfQ,aACAE,e,+YC1BG,IAAME,EAAUC,IAAOC,IAAV,KAahB,SAAAC,GAAK,OAAmB,IAAfA,EAAMV,KAAN,qGAiBE,SAASW,EAAT,GAAoD,IAA5BC,EAA2B,EAA3BA,SAAUZ,EAAiB,EAAjBA,KAAMa,EAAW,EAAXA,QACrD,OACE,cAACN,EAAD,CAASP,KAAMA,EAAMc,QAAS,kBAAMD,KAApC,SACE,qBAAKC,QAAS,SAACC,GAAD,OAAOA,EAAEC,mBAAvB,SACGJ,MChCT,IAAMK,EAAY,CAChBC,MAAOpE,aAAaC,QAAQ,eAAiB,KAC7CoE,UAAU,EACVC,SAAU,KAEVnE,MALgB,SAKToE,EAAIlE,KACXmE,OANgB,cAUZC,EAAczB,IAAM0B,cAAcP,GAEzBM,IAER,SAASE,EAAT,GAA4C,IAAbb,EAAY,EAAZA,SAC9BX,EChBO,SAAiBgB,GAAY,IAAD,EACtBnB,IAAMC,SAASkB,EAAUC,OADH,mBAClCA,EADkC,aAEbpB,IAAMC,SAAS,KAFF,mBAElC2B,EAFkC,KAE1BC,EAF0B,OAGT7B,IAAMC,SAAS,CAC7CsB,GAAI,KACJtC,KAAM,GACNC,MAAO,KANgC,mBAGlCoC,EAHkC,KAGxBQ,EAHwB,KAQnCC,EAAQjC,IAER3C,EAAK,uCAAG,WAAOoE,EAAIlE,GAAX,eAAAuC,EAAA,6DACZmC,EAAM1B,WAAW,mEADL,SAEWnD,EAAIC,MAAMoE,EAAIlE,GAFzB,OAIU,OAFhBS,EAFM,QAICE,MACXhB,aAAagF,QAAQ,aAAclE,EAASC,KAAKqD,OACjDa,OAAOC,SAASC,KAAO,MAEvBC,MAAMtE,EAASuE,KACfN,EAAMxB,eATI,2CAAH,wDAkBL+B,EAAW,uCAAG,4BAAA1C,EAAA,6DAClBmC,EAAM1B,WAAW,mEADC,SAEKnD,EAAIe,OAFT,UAII,OAFhBH,EAFY,QAILE,KAJK,wBAKhBhB,aAAagF,QAAQ,aAAclE,EAASC,KAAKwE,cACjDT,EAAYhE,EAASC,KAAKuD,SAAd,2BACPxD,EAASC,KAAKuD,UADP,IAEVkB,QAAS1E,EAASC,KAAKyE,QACvBjB,GAAIzD,EAASC,KAAKX,SAChB,CACFmE,GAAIzD,EAASC,KAAKX,OAClBoF,QAAS1E,EAASC,KAAKyE,QACvBvD,KAAM,GACNC,MAAO,KAGT6C,EAAMxB,cAjBU,kBAkBTzC,EAASC,MAlBA,QAoBhBgE,EAAMxB,cApBU,4CAAH,qDAwBXpC,EAAS,uCAAG,4BAAAyB,EAAA,6DAChBmC,EAAM1B,WAAW,IADD,SAEOnD,EAAIiB,YAFX,cAEVL,EAFU,OAGhB+D,EAAU/D,EAASC,KAAK6D,QACxBG,EAAMxB,cAJU,kBAKTzC,GALS,2CAAH,qDAQTM,EAAW,uCAAG,WAAOhB,GAAP,eAAAwC,EAAA,6DAClBmC,EAAM1B,WAAW,IADC,SAEKnD,EAAIkB,YAAY,CACrChB,WAHgB,UAKI,OAHhBU,EAFY,QAKLE,KALK,gCAMVG,IANU,cAQlB4D,EAAMxB,cARY,kBASXzC,GATW,2CAAH,sDAYXQ,EAAW,uCAAG,WAAOlB,GAAP,eAAAwC,EAAA,6DAClBmC,EAAM1B,WAAW,IADC,SAEKnD,EAAIoB,YAAYlB,GAFrB,UAGI,OADhBU,EAFY,QAGLE,KAHK,gCAIVG,IAJU,cAMlB4D,EAAMxB,cANY,kBAOXzC,GAPW,2CAAH,sDAUjB,MAAO,CACLsD,QACAE,WACAS,QACAH,SAEAzE,QACAqE,OAlEa,WACbxE,aAAayF,WAAW,cACxBR,OAAOC,SAASC,KAAO,UAiEvBhE,YACAC,cACAE,cACAgE,eD7EYI,CAAQvB,GAEtB,OACE,eAACM,EAAYkB,SAAb,CAAsBC,MAAOzC,EAA7B,UACGW,EAED,eAACD,EAAD,CACEX,KAAMC,EAAM4B,MAAM7B,KAClBa,QAAS,aAFX,UAIE,cAAC,aAAD,CAAY8B,MAAM,YAClB,mBAAGC,UAAU,UAAb,SAAwB3C,EAAM4B,MAAMlC,gB,khBEzB5C,IAAMkD,EAAUrC,IAAOC,IAAV,KAOPqC,EAAOtC,YAAOuC,IAAPvC,CAAH,KAgBK,SAASwC,IAEtB,OACE,cAACH,EAAD,CAASD,UAAU,MAAnB,SACGK,EAAOC,KAAI,SAAAC,GAAK,OACf,eAACL,EAAD,CAAMM,OAAK,EAACC,GAAIF,EAAMG,KAAqBC,YAAa,CACtDZ,MAAO,WADT,UAGE,sBAAMC,UAAU,iBAAhB,SAAkCO,EAAMK,OACvCL,EAAMpE,OAJwBoE,EAAM9B,S,4lEChCxC,IAAMoC,EAAcjD,IAAOC,IAAV,KA+BXiD,EAAoBlD,YAAOiD,EAAPjD,CAAH,KAgCjBmD,EAAOnD,IAAOC,IAAV,KAQJmD,EAAOpD,IAAOC,IAAV,KAGJoD,EAAarD,IAAOC,IAAV,KAIVqD,GAAYtD,IAAOuD,GAAV,KAMTC,GAAWxD,IAAOC,IAAV,KAMRwD,GAAOzD,IAAOC,IAAV,KAQJyD,GAAU1D,IAAO2D,OAAV,KAUhB,SAAAzD,GAAK,OAAIA,EAAM0D,QAAN,sD,ktBCvGb,IAAMC,GAAe7D,IAAOC,IAAV,MAUZ6D,GAAY9D,IAAOC,IAAV,MAOT8D,GAAS/D,IAAOC,IAAV,MAKN+D,GAAQhE,IAAOiE,GAAV,MAKLC,GAAWlE,IAAOiE,GAAV,MAKC,SAASE,KAAS,IACvB1H,EAAU6C,IAAM8E,WAAWrD,GAA3BtE,MACF4H,EAASC,YAAU,CACvBC,cAAe,CACbC,OAAQ,GACR7H,SAAU,IAEZ8H,SAAU,SAAAC,GACRjI,EAAMiI,EAAOF,OAAQE,EAAO/H,aAIhC,OACE,cAACkH,GAAD,CAAczB,UAAU,MAAxB,SACE,eAAC0B,GAAD,WACE,eAACC,GAAD,WACE,cAACC,GAAD,kDACA,cAACE,GAAD,oDAGF,uBAAMO,SAAUJ,EAAOM,aAAvB,UACE,eAAC1B,EAAD,WACE,uBAAO2B,QAAQ,KAAf,0BACA,uBACEC,KAAK,SACLhE,GAAG,KACHiE,YAAY,2DACZvG,KAAK,SACLwG,SAAUV,EAAOW,aACjB9C,MAAOmC,EAAOK,OAAOF,YAGzB,eAACvB,EAAD,WACE,uBAAO2B,QAAQ,WAAf,sCACA,uBACEC,KAAK,WACLhE,GAAG,WACHiE,YAAY,uEACZvG,KAAK,WACLwG,SAAUV,EAAOW,aACjB9C,MAAOmC,EAAOK,OAAO/H,cAGzB,cAACsG,EAAD,UACE,wBAAQb,UAAU,gBAAgByC,KAAK,SAAvC,0C,yXChFZ,IAAMI,GAAiBjF,IAAOC,IAAV,MAkBhB,SAAAC,GAAK,OAAIA,EAAM0D,QAAN,+MAgBE,SAASsB,GAAT,GAA2D,IAAxCjH,EAAuC,EAAvCA,QAASqC,EAA8B,EAA9BA,QAAqBJ,GAAS,EAArBiF,QAAqB,iDACvE,OACE,eAACF,GAAD,yBACErB,OAAQ3F,EAAQ2F,OAChBtD,QAAS,SAACC,GAAD,OAAOD,EAAQrC,KACpBiC,GAHN,cAKE,oBAAIkC,UAAU,QAAd,SAAuBnE,EAAQM,OAC/B,qBAAK6D,UAAU,UAAf,SAEInE,EAAQmH,OACN,qCACE,iEAAWnH,EAAQmH,OAAOC,YAC1B,8BACGC,KAAOrH,EAAQmH,OAAOG,WAAWC,OAAO,eAD3C,KAEGF,KAAOrH,EAAQmH,OAAOK,SAASD,OAAO,qBAI3C,qCACE,6EACA,sD,6OCtDd,IAAME,GAAc1F,IAAOC,IAAV,MAYF,SAAS0F,GAAT,GAAsE,IAA/CC,EAA8C,EAA9CA,MAAOC,EAAuC,EAAvCA,SAAUC,EAA6B,EAA7BA,gBAAoB5F,EAAS,uDAClF,OACE,eAACiD,EAAD,2BAAUjD,GAAV,cACE,oBAAIkC,UAAU,QAAd,SAAuBwD,IACvB,cAACF,GAAD,CAAatD,UAAU,mBAAvB,SACGyD,EAASnD,KAAI,SAAAzE,GAAO,OACnB,qBAAsBmE,UAAU,SAAhC,SACE,cAAC8C,GAAD,aACEjH,QAASA,GACL6H,KAHE7H,EAAQ4C,a,oYCpB5B,IAAMwB,GAAUrC,IAAOC,IAAV,MAQP8F,GAAO/F,IAAOC,IAAV,MAGJ+F,GAAQhG,IAAOC,IAAV,M,aCTLQ,I,OAAY,CAChBwF,OADgB,eAIZC,GAAY5G,IAAM0B,cAAcP,IAEvByF,MAER,SAASC,GAAT,GAA0C,IAAb/F,EAAY,EAAZA,SAC5B6F,EAAS3G,IAAMM,aAAY,SAACT,GAAoC,IAA3B0F,EAA0B,uDAAnB,OAAQuB,EAAW,uCACxC,oBAAhBC,KAAMxB,GACfwB,KAAMxB,GAAM1F,EAAZ,aACEmH,SAAU,aACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,GACRP,IAGLQ,QAAQC,IAAI,0BAEb,IAEH,OACE,eAACX,GAAUjE,SAAX,CAAoBC,MAAO,CACzB+D,UADF,UAGG7F,EACD,cAAC,KAAD,OC9BS,SAAS0G,KAAc,IAAD,EACHxH,IAAMC,SAAS,IADZ,mBAC5BsG,EAD4B,KAClBkB,EADkB,KAE7B5B,EAAU/F,IACRO,EAA4BwF,EAA5BxF,WAAYE,EAAgBsF,EAAhBtF,YAEd/B,EAAcwB,IAAMM,YAAN,sBAAkB,4BAAAV,EAAA,6DACpCS,EAAW,IADyB,SAEbnD,EAAIsB,cAFS,OAE9B+H,EAF8B,OAGpCkB,EAAYlB,EAASxI,KAAKwI,UAC1BhG,IAJoC,2CAKnC,IAEGzB,EAAgBkB,IAAMM,YAAN,sBAAkB,0CAAAV,EAAA,6DAAOjB,EAAP,+BAAiB,GACvD0B,IADsC,SAEfnD,EAAI4B,cAAcH,GAFH,UAIhB,OAFhBb,EAFgC,QAIzBE,KAJyB,gCAK9BQ,IAL8B,cAOtC+B,IAPsC,kBAS/BzC,GAT+B,4CAUrC,IAEGc,EAAgBoB,IAAMM,YAAN,uCAAkB,WAAO5B,EAAWC,GAAlB,eAAAiB,EAAA,6DACtCS,IADsC,SAEfnD,EAAI0B,cAAcF,EAAWC,GAFd,UAGhB,OADhBb,EAFgC,QAGzBE,KAHyB,gCAI9BQ,IAJ8B,cAMtC+B,IANsC,kBAQ/BzC,GAR+B,2CAAlB,wDASnB,IAEGW,EAAgBuB,IAAMM,YAAN,uCAAkB,WAAO5B,EAAWC,GAAlB,eAAAiB,EAAA,6DACtCS,IADsC,SAEfnD,EAAIuB,cAAcC,EAAWC,GAFd,UAGhB,OADhBb,EAFgC,QAGzBE,KAHyB,gCAI9BQ,IAJ8B,cAMtC+B,IANsC,kBAQ/BzC,GAR+B,2CAAlB,wDASnB,IAEH,MAAO,CACLyI,WACAV,UAEArH,cACAM,gBACAF,gBACAH,iBCtDW,SAASiJ,KAAc,IAAD,EACL1H,IAAMC,SAAS,CAC3CoB,UAAU,EACVtD,KAAM,KAH2B,mBAC5B4J,EAD4B,KACnBC,EADmB,OAKL5H,IAAMC,SAAS,CAC3CoB,UAAU,EACVtD,KAAM,KAP2B,mBAK5B8J,EAL4B,KAKnBC,EALmB,KAU7BxI,EAAaU,IAAMM,YAAN,sBAAkB,4BAAAV,EAAA,6DACnCkI,EAAW,2BACND,GADK,IAERE,OAAO,KAH0B,SAMZ7K,EAAIoC,aANQ,OAM7BxB,EAN6B,OAOnCgK,EAAW,CACT/J,KAAMD,EAASC,KAAKiK,SACpB3G,UAAU,IATuB,2CAWlC,IAEGhC,EAAaW,IAAMM,YAAN,uCAAkB,WAAO5B,GAAP,eAAAkB,EAAA,6DACnCgI,GAAW,SAAAD,GAAO,kCACbA,GADa,IAEhBtG,UAAU,OAHuB,SAMZnE,EAAImC,WAAWX,GANH,OAM7BZ,EAN6B,OAQnC8J,EAAW,CACT7J,KAAMD,EAASC,KAAKiK,SACpB3G,UAAU,IAVuB,2CAAlB,sDAYhB,IAEG4G,EAAgBjI,IAAMM,YAAN,uCAAkB,WAAOtB,GAAP,eAAAY,EAAA,sEACf1C,EAAI6B,mBAAmBC,GADR,cAChClB,EADgC,yBAE/BA,GAF+B,2CAAlB,sDAGnB,IAEH,MAAO,CACL6J,UACAE,UAEAvI,aACAD,aACA4I,iB,qhCCvCJ,IAAMC,GAAcxH,IAAOC,IAAV,MAUXwH,GAAkBzH,aJLT,YAAiD,IAA1B0H,EAAyB,EAAzBA,KAAMC,EAAmB,EAAnBA,MAAUzH,EAAS,iCAC7D,OACE,eAAC,GAAD,2BAAaA,GAAb,cACE,cAAC6F,GAAD,UACG2B,IAEH,cAAC1B,GAAD,UACG2B,UIFe3H,CAAH,MA2Bf4H,GAAc5H,IAAOC,IAAV,MAWX4H,GAAW7H,YAAOmD,EAAPnD,CAAH,MAKC,SAAS8H,KAAQ,IAAD,EACaxI,IAAMC,SAAS,GAD5B,mBACtBwI,EADsB,KACPC,EADO,OAEO1I,IAAM8E,WAAWrD,GAA7CD,EAFqB,EAErBA,OAAQF,EAFa,EAEbA,SAAUS,EAFG,EAEHA,MAClB4E,EAAW3G,IAAM8E,WAAW8B,IAA5BD,OAHqB,EAIca,KAAnCjB,EAJqB,EAIrBA,SAAU/H,EAJW,EAIXA,YAAaqH,EAJF,EAIEA,QACvBoC,EAAkBP,KAAlBO,cACFN,EAAUgB,cAEV5D,EAASC,YAAU,CACvBC,cAAe,CACbhG,KAAM,GACNC,MAAO,GACPC,WAAY,EACZC,aAAc,GAEhB+F,SAAS,WAAD,4BAAE,WAAOC,GAAP,SAAAxF,EAAA,yDACHwF,EAAOnG,MAASmG,EAAOlG,MADpB,uBAENyH,EAAO,qFAAqB,SAFtB,+BAMwB,GAA5BiC,OAAOxD,EAAOjG,YAAmByJ,OAAOxD,EAAOhG,eAAiB,GAN5D,uBAONuH,EAAO,2FAAsB,SAPvB,iCAWR5E,EAAM1B,WAAW,IAXT,SAYF4H,EAAc,2BACf7C,GADc,IAEjB1G,UAAW+J,KAdL,wBAgBFjK,IAhBE,QAiBRuD,EAAMxB,YAAY,IAClBoG,EAAO,iEAAgB,WACvBgB,EAAQkB,KAAR,6BAAmCJ,IAnB3B,4CAAF,mDAAC,KAuBLK,EAAYvC,EAASnD,KAAI,SAACzE,GAAD,mBAAC,eAC3BA,GAD0B,IAE7B2F,OAAQ3F,EAAQ4C,KAAOkH,OAsBzB,OAnBAzI,IAAM+I,WAAU,WACdvK,MACC,CAACA,IAEJwB,IAAM+I,WAAU,WACdhE,EAAOiE,UAAU,CACf/J,KAAMqC,EAASrC,KACfC,MAAOoC,EAASpC,MAChBC,WAAY,GACZC,aAAc,OAEf,CAACkC,IAEJtB,IAAM+I,WAAU,WACU,IAApBxC,EAAS0C,QACXP,EAAiBnC,EAAS,GAAGhF,MAE9B,CAACgF,IAGF,eAAC2B,GAAD,CAAapF,UAAU,MAAvB,UACE,cAACqF,GAAD,CACEC,KACA,gCACE,mBAAGtF,UAAU,OAAb,6CACA,mBAAGA,UAAU,SAAb,SAAuBxB,EAASC,QAGlC8G,MACA,qCACG/G,EAASkB,SACR,wBAAQM,UAAU,UAAU9B,QAAS,kBAAM2G,EAAQkB,KAAK,WAAxD,SACE,sBAAM/F,UAAU,iBAAhB,wBAGJ,wBAAQA,UAAU,SAAS9B,QAAS,kBAAMQ,KAA1C,SACE,sBAAMsB,UAAU,iBAAhB,uCAKN,eAACgB,EAAD,WACE,cAACE,GAAD,2BACA,cAACE,GAAD,UACE,uBAAMiB,SAAUJ,EAAOM,aAAvB,UACE,cAACgB,GAAD,CACEC,MAAM,qCACNC,SAAUuC,EACVtC,gBAAiB,CACfxF,QAAS,SAACrC,GAAc+J,EAAiB/J,EAAQ4C,KACjDsE,QAASA,EAAQ3F,QAIrB,eAACqI,GAAD,WACE,oBAAIzF,UAAU,QAAd,mDACA,sBAAKA,UAAU,OAAf,UACA,eAACa,EAAD,WACI,iDACA,uBACE4B,KAAK,OACL2D,UAAQ,EACRC,aAAc7H,EAASC,QAI3B,eAACoC,EAAD,WACE,uBAAO2B,QAAQ,OAAf,0BACA,uBACEC,KAAK,OACLhE,GAAG,OACHtC,KAAK,OACL2D,MAAOmC,EAAOK,OAAOnG,KACrBwG,SAAUV,EAAOW,kBAGrB,eAAC/B,EAAD,WACE,uBAAO2B,QAAQ,QAAf,sCACA,uBACEC,KAAK,OACL6D,QAAQ,SACRC,UAAU,UACV9H,GAAG,QACHtC,KAAK,QACL2D,MAAOmC,EAAOK,OAAOlG,MACrBuG,SAAUV,EAAOW,wBAMzB,eAAC6C,GAAD,WACA,oBAAIzF,UAAU,QAAd,6EACA,sBAAKA,UAAU,OAAf,UACE,eAACwF,GAAD,WACE,eAAC3E,EAAD,WACE,uBAAO2B,QAAQ,OAAf,0BACA,uBACEC,KAAK,SACLhE,GAAG,OACHtC,KAAK,aACL2D,MAAOmC,EAAOK,OAAOjG,WACrBsG,SAAUV,EAAOW,kBAGrB,eAAC/B,EAAD,WACE,uBAAO2B,QAAQ,SAAf,oBACA,uBACEC,KAAK,SACLhE,GAAG,SACHtC,KAAK,eACL2D,MAAOmC,EAAOK,OAAOhG,aACrBqG,SAAUV,EAAOW,qBAIvB,cAAC/B,EAAD,UACE,wBAAQ4B,KAAK,SAASzC,UAAU,gBAAhC,6C,8XC5NhB,IAAMC,GAAUrC,IAAOC,IAAV,MAwBE,SAAS2I,GAAT,GAA+B,IAAZ3B,EAAW,EAAXA,QAChC,OACE,cAAC7D,EAAD,UACE,cAACI,GAAD,UACE,eAAC,GAAD,WACE,oBAAGpB,UAAU,OAAb,UAAqB6E,EAAQvK,OAA7B,KAAuCuK,EAAQ5B,SAA/C,OACA,oBAAGjD,UAAU,QAAb,UACE,sBAAMA,UAAU,iBAAhB,kBACC6E,EAAQ4B,UAAUC,QAAS,+CAAgD,eAE9E,oBAAG1G,UAAU,OAAb,UACE,sBAAMA,UAAU,iBAAhB,sBACCkD,KAAO2B,EAAQ1B,WAAWC,OAAO,eAFpC,MAEuDF,KAAO2B,EAAQxB,SAASD,OAAO,yBCvCjF,SAAS/B,GAAT,GAAqD,IAArCsF,EAAoC,EAApCA,KAAMC,EAA8B,EAA9BA,SAAUpF,EAAoB,EAApBA,OAAW1D,EAAS,6CACjE,OACE,cAAC,GAAD,2BAAgBA,GAAhB,aACG6I,EAAKrG,KAAI,SAAAuG,GAAG,OACX,cAACvF,GAAD,CACEE,OAAQA,IAAWqF,EAAIpI,GAEvBP,QAAS,kBAAM0I,EAASC,IAH1B,SAIEA,EAAI1K,MAFC0K,EAAIpI,U,m5BCGnB,IAAMqI,GAAclJ,IAAOC,IAAV,MAIXoC,GAAUrC,YAAOoD,EAAPpD,CAAH,MAOP+D,GAAS/D,IAAOC,IAAV,MAQNkJ,GAAOnJ,IAAOC,IAAV,MAOJmJ,GAAQpJ,IAAOC,IAAV,MAiBI,SAAS2I,KAAW,IAAD,EACA5B,KAAxBC,EADwB,EACxBA,QAAStI,EADe,EACfA,WADe,EAEWmI,KAAnCjB,EAFwB,EAExBA,SAAU/H,EAFc,EAEdA,YAAaqH,EAFC,EAEDA,QAFC,ECpDnB,WAAqC,IAApBkE,EAAmB,uDAAN,KAAM,EACrB/J,IAAMC,SAAS8J,GADM,mBAC1CzF,EAD0C,KAClC0F,EADkC,KAG3CC,EAAiBjK,IAAMM,aAAY,SAACvC,GACxCiM,EAAUjM,EAAKwD,MACd,CAACyI,IAEJ,MAAO,CACL1F,SAEA0F,YACAC,kBD4C4CC,CAAQ,MAA9C5F,EAHwB,EAGxBA,OAAQ0F,EAHgB,EAGhBA,UAAWC,EAHK,EAGLA,eACnBlI,EAAU/B,IAAM8E,WAAWrD,GAA3BM,MACFG,EAAWiI,cAEXC,EAAc7D,EAASnD,KAAI,SAAAzE,GAAO,MAAK,CAC3C4C,GAAI5C,EAAQ4C,GACZtC,KAAMN,EAAQM,SA+BhB,OA5BAe,IAAM+I,WAAU,WACd,IACMrK,EADQ,IAAI2L,gBAAgBnI,EAASoI,QACnBpM,IAAI,aAExBQ,GACFsL,EAAUpB,OAAOlK,IAEnBF,MACC,CAACA,IAEJwB,IAAM+I,WAAU,WACVzE,GAAQjF,EAAWiF,KACtB,CAACA,EAAQjF,IAEZW,IAAM+I,WAAU,WACU,IAApBxC,EAAS0C,QAA2B,OAAX3E,GAC3B0F,EAAUzD,EAAS,GAAGhF,MAEvB,CAACgF,EAAU0D,IAEdjK,IAAM+I,WAAU,WACVlD,EAAQ3F,MAAQyH,EAAQtG,SAC1BU,EAAM1B,aACKwF,EAAQ3F,MAAQyH,EAAQtG,UACnCU,EAAMxB,gBAEP,CAACsF,EAAQ3F,KAAMyH,EAAQtG,WAGxB,eAAC,GAAD,WACE,eAAC,GAAD,CAAQyB,UAAU,MAAlB,UACE,cAACkB,GAAD,uCACA,cAAC,GAAD,CACEyF,KAAMW,EACNV,SAAUO,EACV3F,OAAQA,OAGZ,cAACuF,GAAD,UACE,cAAChG,EAAD,CAAMf,UAAU,MAAhB,SACE,sBAAKA,UAAU,OAAf,UACG6E,EAAQ5J,KAAKqF,KAAI,SAACrF,GAAD,OAChB,cAAC6L,GAAD,UACE,cAACN,GAAD,CAAa3B,QAAS5J,KADNA,EAAKwD,OAKA,IAAxBoG,EAAQ5J,KAAKkL,QACZ,eAACa,GAAD,WACE,sBAAMhH,UAAU,iBAAhB,gCACA,yG,icE/GhB,IAAMC,GAAUrC,YAAOoD,EAAPpD,CAAH,MAIP6J,GAAe7J,IAAO8J,MAAV,MAqBH,SAASC,KAAW,IAAD,EACA/C,KAAxBpI,EADwB,EACxBA,WAAYuI,EADY,EACZA,QAOpB,OALA7H,IAAM+I,WAAU,WACdzJ,MACC,CAACA,IAIF,eAAC,GAAD,CAASwD,UAAU,MAAnB,UACE,cAACkB,GAAD,2BACA,cAACE,GAAD,UACE,eAACqG,GAAD,WACE,gCACE,+BACE,8CACA,4DACA,gEAGJ,gCACG1C,EAAQ9J,MAAQ8J,EAAQ9J,KAAKqF,KAAI,SAACrF,EAAM2M,GAAP,OAChC,+BACE,mCAAMA,EAAM,KACZ,+BAAK3M,EAAKX,OAAV,KAAoBW,EAAKgI,SAAzB,OACA,6BAAKhI,EAAK4M,UAHH5M,EAAKX,qB,kzBC3C5B,IAAM2F,GAAUrC,YAAOoD,EAAPpD,CAAH,MAcPkK,IAPOlK,IAAOC,IAAV,MAOOD,YAAOmK,IAAPnK,CAAH,OAKRoK,GAAUpK,IAAOC,IAAV,MAKPoK,GAAmBrK,IAAO2D,OAAV,MAWP,SAAS2G,KAAS,IAAD,EAS1BxD,KAPFjB,EAF4B,EAE5BA,SACAV,EAH4B,EAG5BA,QAEArH,EAL4B,EAK5BA,YACAM,EAN4B,EAM5BA,cACAL,EAP4B,EAO5BA,cACAG,EAR4B,EAQ5BA,cAR4B,EAkB1BoB,IAAM8E,WAAWrD,GAPnBM,EAX4B,EAW5BA,MACAH,EAZ4B,EAY5BA,OACAN,EAb4B,EAa5BA,SAEAnD,EAf4B,EAe5BA,UACAC,EAhB4B,EAgB5BA,YACAE,EAjB4B,EAiB5BA,YAEMqI,EAAW3G,IAAM8E,WAAW8B,IAA5BD,OAnBsB,EAqBA3G,IAAMC,SAAS,IArBf,mBAqBvBgL,EArBuB,KAqBdC,EArBc,KAuB9BlL,IAAM+I,WAAU,WACVlD,EAAQ3F,KACV6B,EAAM1B,WAAWwF,EAAQhG,SAEzBkC,EAAMxB,gBAEP,CAACsF,EAAQ3F,OAEZF,IAAM+I,WAAU,WACdvK,IACAL,MACC,IAEH,IAAMgN,EAAc,uCAAG,4BAAAvL,EAAA,sEACEd,IADF,QACfhB,EADe,SAGa,MAAlBA,EAASE,MACvB2I,EAAO,gEAAe,WAJH,2CAAH,qDAQdyE,EAAiB,uCAAG,WAAO1M,GAAP,SAAAkB,EAAA,sEAClBnB,EAAcC,GADI,2CAAH,sDAIjB2M,EAAiB,uCAAG,WAAO3M,GAAP,mBAAAkB,EAAA,2DAClB0L,EAAQC,SAASC,eAAT,qBAAsC9M,KAD5B,uBAIhB+M,EAAcH,EAAM1I,MAJJ,SAKChE,EAAcF,EAAW,CAC9CO,KAAMwM,IANc,QAKhB3N,EALgB,SASY,MAAlBA,EAASE,MACvB2I,EAAO,gEAAe,WAVF,2CAAH,sDAevB,OACE,eAAC,GAAD,CAAS7D,UAAU,MAAnB,UACE,eAACiB,EAAD,WACE,cAACC,GAAD,UACE,2EAEF,cAAC4G,GAAD,CAAUrH,GAAG,IAAb,SACE,sBAAMT,UAAU,iBAAhB,kCAGJ,cAACoB,GAAD,UACE,eAACL,EAAD,WACE,oBAAIf,UAAU,QAAd,6CACCyD,EAASnD,KAAI,SAAAzE,GAAO,OACnB,8BACE,eAACiF,EAAD,WACE,uBACErC,GAAE,qBAAgB5C,EAAQ4C,IAC1BgE,KAAK,OACLC,YAAY,2DACZ2D,aAAcxK,EAAQM,OAExB,sBAAK6D,UAAU,SAAf,UACE,wBACEA,UAAU,SACV9B,QAAS,kBAAMqK,EAAkB1M,EAAQ4C,KAF3C,0BAMA,wBACEuB,UAAU,SACV9B,QAAS,kBAAMoK,EAAkBzM,EAAQ4C,KAF3C,iCAfI5C,EAAQ4C,OAyBpB,eAACwJ,GAAD,CAAkB/J,QAAS,kBAAMmK,KAAjC,UACE,sBAAMrI,UAAU,iBAAhB,iBADF,0CAMJ,cAACgI,GAAD,IACA,cAAC5G,GAAD,UACE,eAACL,EAAD,WACE,oBAAIf,UAAU,QAAd,6CACClB,EAAOwB,KAAI,SAAAsI,GAAK,OACfA,EAAMtO,SAAWkE,EAASlE,QACxB,eAACwG,EAAD,WACA,uBACE2B,KAAK,OACLC,YAAY,2DACZ2D,aAAcuC,EAAMtO,OACpBuO,UAAQ,IAEV,qBAAK7I,UAAU,SAAf,SACI,wBACEA,UAAU,SACV9B,QAAS,kBAAM1C,EAAYoN,EAAMtO,SAFnC,8BARoBsO,EAAMtO,WAoBlC,cAACuG,EAAD,UACE,uBACE4B,KAAK,OACLC,YAAY,0DACZ5C,MAAOqI,EACPxF,SAAU,SAAAxE,GAAC,OAAIiK,EAAWjK,EAAE2K,OAAOhJ,YAGvC,cAACe,EAAD,UACE,wBAAQb,UAAU,gBAAgB9B,QAAS,WACrCiK,GAAS7M,EAAY6M,IAD3B,oC,2VC1KZ,IAAMY,GAAoBnL,IAAOC,IAAV,MAQjBmL,GAAiBpL,IAAOC,IAAV,MAQpB,SAASoL,GAAT,GAA0C,IAAtBjL,EAAqB,EAArBA,SAAU0B,EAAW,EAAXA,QACtBmF,EAAUD,cADuB,EAEL1H,IAAM8E,WAAWrD,GAA3Ca,EAF+B,EAE/BA,YAAahB,EAFkB,EAElBA,SAkBrB,OAhBAtB,IAAM+I,WAAU,WACd,sBAAC,4BAAAnJ,EAAA,sEACwB0C,IADxB,WACOhB,EADP,SAGsC,OAApBA,EAASlE,OAH3B,uBAIGuK,EAAQkB,KAAK,UAJhB,8BAQ0B,IAArBvH,EAASkB,UAAiC,IAAZA,EARnC,uBASGmF,EAAQkB,KAAK,KAThB,6DAAD,KAaC,IAEEvH,EAASC,GAGZ,mCAAGT,IAHoB,KAiCZkL,OA1Bf,WAGE,OAFiB7B,cAGf,eAAC,IAAD,WACE,cAAC,IAAD,CAAO8B,KAAM,CAAC,IAAK,WAAY,YAAa3I,OAAK,EAAjD,SACE,cAACyI,GAAD,UACE,eAACF,GAAD,WACE,eAACC,GAAD,WACE,cAAC,IAAD,CAAOG,KAAK,IAAI3I,OAAK,EAArB,SAAsB,cAACkF,GAAD,MACtB,cAAC,IAAD,CAAOyD,KAAK,WAAW3I,OAAK,EAA5B,SAA6B,cAACmH,GAAD,MAC7B,cAAC,IAAD,CAAOwB,KAAK,WAAW3I,OAAK,EAA5B,SAA6B,cAAC,GAAD,SAE/B,cAACJ,EAAD,WAIN,cAAC,IAAD,CAAO+I,KAAK,SAAS3I,OAAK,EAA1B,SAA2B,cAACuB,GAAD,MAE3B,cAACkH,GAAD,CAAUvJ,SAAO,EAAjB,SACE,cAAC,IAAD,CAAOyJ,KAAK,SAAS3I,OAAK,EAA1B,SAA2B,cAAC0H,GAAD,YCxEnCkB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAACvF,GAAD,UACE,cAAClF,EAAD,UACE,cAAC,GAAD,YAKR4J,SAASC,eAAe,U","file":"static/js/main.9df87a94.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst instanceAxios = axios.create({\n  baseURL: process.env.NODE_ENV !== 'production' ? \"http://localhost:4000\" : \"/\"\n})\n\ninstanceAxios.defaults.headers.common['Authorization'] = \"Bearer \"+localStorage.getItem(\"auth_token\");\n\nexport default instanceAxios","import _axios from 'axios'\nimport axios from './_instance'\n\nconst API = {\n  async login (userId, password) {\n    // eslint-disable-next-line no-undef\n    const [encodeId, encodePassword] = [fnRSAEnc(\"\"+userId), fnRSAEnc(\"\"+password)]\n    const formData = new FormData()\n\n    formData.append(\"_userId\", encodeId)\n    formData.append(\"_password\", encodePassword)\n    formData.append(\"identck\", \"mobile_002\")\n    formData.append(\"sinbun\", \"\")\n\n    const response = await _axios.post(\"https://api.hanyang.ac.kr/oauth/login_submit.json\", formData, {\n      headers: {\n        'Host': \"api.hanyang.ac.kr\",\n      }\n    })\n\n    switch (response.data.code) {\n      case '504':\n      case '200': {\n        const response = await axios.post(\"/login\", {\n          userId,\n          password\n        })\n        return response.data;\n      }\n      default: {\n        response.data.code = 400;\n        return response.data;\n      }\n    }\n  },\n\n  async auth() {\n    const response = await axios.get(\"/auth\");\n    return response.data;\n  },\n\n  async getAdmins() {\n    const response = await axios.get(\"/auth/admins\");\n    return response.data;\n  },\n\n  async createAdmin(payload) {\n    const response = await axios.post(\"/auth/admins\", payload);\n    return response.data;\n  },\n\n  async deleteAdmin(userId) {\n    const response = await axios.delete(`/auth/admins/${userId}`);\n    return response.data;\n  },\n\n  async getPrinters() {\n    const response = await axios.get(\"/printers\");\n    return response.data;\n  },\n\n  async deletePrinter(printerId, printer) {\n    const response = await axios.delete(`/printers/${printerId}`, printer);\n    return response.data;\n  },\n\n  async updatePrinter(printerId, printer) {\n    const response = await axios.put(`/printers/${printerId}`, printer);\n    return response.data;\n  },\n\n  async createPrinter(printer) {\n    const response = await axios.post(\"/printers\", printer);\n    return response.data;\n  },\n\n  async printerReservation(resInfo) {\n    const response = await axios.post(\"/historys\", {\n      printerId: resInfo.printerId,\n      name: \"\"+resInfo.name,\n      phone: \"\"+resInfo.phone,\n      outputHour: resInfo.outputHour,\n      outputMinute: resInfo.outputMinute,\n    })\n\n    return response.data;\n  },\n\n  async getHistory(printerId) {\n    const response = await axios.get(`/historys/${printerId}`);\n    return response.data;\n  },\n\n  async getRanking() {\n    const response = await axios.get('/historys/ranking');\n    return response.data;\n  }\n}\n\nexport default Object.keys(API).reduce((acc, val) => {\n  if (typeof API[val] === \"function\") {\n    return {\n      ...acc,\n      [val]: async (...payload) => {\n        try {\n          return await API[val](...payload);\n        } catch (e) {\n          return {\n            message: e,\n            code: 400\n          };\n        }\n      }\n    }\n  } else {\n    return { ...acc, [val]: API[val]}\n  }\n}, {})\n","import React from 'react'\n\nexport default function useModal(initOpen = false) {\n  const [state, setState] = React.useState({\n    open: initOpen,\n    message: '',\n  })\n\n  const handleOpen = React.useCallback((message) => {\n    setState({\n      open: true,\n      message\n    })\n  }, [])\n\n  const handleClose = React.useCallback(() => {\n    setTimeout(() => {\n      setState({\n        open: false,\n        message: ''\n      })\n    }, 500)\n  }, [])\n\n  return {\n    open: state.open,\n    message: state.message,\n    \n    handleOpen,\n    handleClose\n  }\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nexport const Overlay = styled.div`\n  position: fixed;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 102;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  background: rgba(0, 0, 0, .5);\n  \n\n  ${props => props.open === true ? `\n    opacity: 1;\n    visibility: visible\n  `: `\n    opacity: 0;\n    visibility: hidden;\n  `}\n\n  transition: 300ms ease;\n\n  .message {\n    margin-top: 20vh;\n    color: #fff;\n    font-size: 1.25rem;\n  }\n`\n\nexport default function OverlayModal({ children, open, onClose }) {\n  return (\n    <Overlay open={open} onClick={() => onClose()}>\n      <div onClick={(e) => e.stopPropagation()}>\n        {children}\n      </div>\n    </Overlay>\n  )\n}\n","import React from 'react'\nimport { BoxLoading } from 'react-loadingg'\nimport useAuth from '../hooks/useAuth'\nimport OverlayModal from '../components/OverlayModal'\n\nconst initState = {\n  token: localStorage.getItem('auth_token') || null,\n  fetching: false,\n  userInfo: null,\n\n  login (id, password) {},\n  logout () {}\n}\n\n\nconst AuthContext = React.createContext(initState)\n\nexport default AuthContext;\n\nexport function AuthContextProvider({ children }) {\n  const state = useAuth(initState);\n\n  return (\n    <AuthContext.Provider value={state}>\n      {children}\n\n      <OverlayModal\n        open={state.modal.open}\n        onClose={() => {}}\n      >\n        <BoxLoading color=\"#7093e8\" />\n        <p className=\"message\">{state.modal.message}</p>\n      </OverlayModal>\n    </AuthContext.Provider>\n  )\n}\n","import React from 'react'\nimport API from '../api'\nimport useModal from './useModal'\n\nexport default function useAuth(initState) {\n  const [token, _] = React.useState(initState.token)\n  const [admins, setAdmins] = React.useState([])\n  const [userInfo, setUserInfo] = React.useState({\n    id: null,\n    name: '',\n    phone: ''\n  })\n  const modal = useModal()\n\n  const login = async (id, password) => {\n    modal.handleOpen(\"학생 정보 확인중입니다.\");\n    const response = await API.login(id, password)\n\n    if (response.code === 200) {\n      localStorage.setItem(\"auth_token\", response.data.token)\n      window.location.href = \"/\";\n    } else {\n      alert(response.msg)\n      modal.handleClose()\n    }\n  }\n\n  const logout = () => {\n    localStorage.removeItem(\"auth_token\");\n    window.location.href = \"/login\";\n  }\n\n  const setUserAuth = async () => {\n    modal.handleOpen(\"학생 정보 확인중입니다.\");\n    const response = await API.auth();\n\n    if (response.code === 200) {\n      localStorage.setItem(\"auth_token\", response.data.refreshToken);\n      setUserInfo(response.data.userInfo ? {\n        ...response.data.userInfo,\n        isAdmin: response.data.isAdmin,\n        id: response.data.userId\n      } : {\n        id: response.data.userId,\n        isAdmin: response.data.isAdmin,\n        name: '',\n        phone: ''\n      })\n\n      modal.handleClose();\n      return response.data;\n    } else {\n      modal.handleClose();\n    }\n  }\n\n  const getAdmins = async () => {\n    modal.handleOpen(\"\");\n    const response = await API.getAdmins();\n    setAdmins(response.data.admins)\n    modal.handleClose()\n    return response;\n  }\n\n  const createAdmin = async (userId) => {\n    modal.handleOpen(\"\");\n    const response = await API.createAdmin({\n      userId\n    })\n    if (response.code === 200) {\n      await getAdmins();\n    }\n    modal.handleClose()\n    return response;\n  }\n\n  const deleteAdmin = async (userId) => {\n    modal.handleOpen(\"\");\n    const response = await API.deleteAdmin(userId)\n    if (response.code === 200) {\n      await getAdmins();\n    }\n    modal.handleClose()\n    return response;\n  }\n\n  return {\n    token,\n    userInfo,\n    modal,\n    admins,\n\n    login,\n    logout,\n    getAdmins,\n    createAdmin,\n    deleteAdmin,\n    setUserAuth\n  }\n}","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport styled from 'styled-components'\nimport routes from '../data/bottomMenu.json'\n\n\nconst Wrapper = styled.div`\n  display: flex;\n  background: #fff;\n  padding-left: 1rem;\n  padding-right: 1rem;\n  border-top: 1px solid #ededed;\n`\nconst Item = styled(NavLink)`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  flex: 1;\n  padding: .5rem 1rem;\n  text-align: center;\n  text-decoration: none;\n  color: inherit;\n\n  .material-icons {\n    font-size: 1.5rem;\n    margin-bottom: .5rem;\n  }\n`\n\nexport default function BottomMenu() {\n  \n  return (\n    <Wrapper className=\"rap\">\n      {routes.map(route => (\n        <Item exact to={route.link} key={route.id} activeStyle={{\n          color: \"#3f62f8\"\n        }}>\n          <span className=\"material-icons\">{route.icon}</span>\n          {route.name}\n        </Item>\n      ))}\n    </Wrapper>\n  )\n}\n","import styled from 'styled-components'\n\nexport const FormControl = styled.div`\n  width: 100%;\n  margin-bottom: 1em;\n\n  label {\n    display: inline-block;\n    margin-bottom: .5em;\n    font-weight: bold;\n  }\n\n  input {\n    width: 100%;\n    background: #ededed;\n    border-radius: 5px;\n    padding: 1em .5em;\n  }\n\n  input:disabled {\n    background: #ccc;\n  }\n\n  .submit-button {\n    width: 100%;\n    padding: 1em 0;\n    border-radius: 5px;\n    color: #fff;\n    background: #3f62f8;\n    font-weight: bold;\n  }\n`\n\nexport const FormActionControl = styled(FormControl)`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  input {\n    flex: 1;\n  }\n\n  .action {\n    display: flex;\n    height: 100%;\n    margin-left: .5rem;\n\n    button {\n      height: 100%;\n      padding: .75rem;\n      border-radius: .25rem;\n    }\n    button span {\n      font-size: 1rem;\n    }\n    button + button {\n      margin-left: .25rem;\n    }\n    button.delete {\n      background: red;\n      color: #fff;\n    }\n  }\n`\n\nexport const List = styled.div`\n  > .title {\n    font-size: 1.25rem;\n    font-weight: bold;\n    margin-bottom: .5em;\n  }\n`\n\nexport const Card = styled.div`\n  width: 100%;\n`\nexport const CardHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n`\nexport const CardTitle = styled.h2`\n  font-size: 1.5rem;\n  font-weight: bold;\n  margin-bottom: .5em;\n`\n\nexport const CardBody = styled.div`\n  padding: 1rem;\n  border-radius: 1rem;\n  background: #fff;\n`\n\nexport const Tabs = styled.div`\n  display: flex;\n  overflow: auto;\n\n  + div {\n    margin-top: 1rem;\n  }\n`\nexport const TabItem = styled.button`\n  display: inline-block;\n  border: none;\n  border-radius: 300px;\n  padding: .5em 1em;\n  font-size: 1rem;\n  margin-right: .3rem;\n  background: #ededed;\n  white-space: nowrap;\n\n  ${props => props.active && (`\n    background: #3f62f8;\n    color: #fff;\n  `)}\n`\n","import React from 'react'\nimport { useFormik } from 'formik'\n\nimport { FormControl } from '../styles/ui'\nimport styled from 'styled-components'\nimport AuthContext from '../contexts/AuthContext'\n\nconst LoginWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100vw;\n  height: 100vh;\n  background: #ededed;\n  overflow: hidden;\n`\n\nconst LoginCard = styled.div`\n  width: 100%;\n  padding: 5%;\n  background: #fff;\n  border-radius: 5px;\n`\n\nconst Header = styled.div`\n  padding-top: 1em;\n  padding-bottom: 1em;\n`\n\nconst Title = styled.h1`\n  font-size: 1.5rem;\n  font-weight: bold;\n`\n\nconst SubTitle = styled.h1`\n  font-size: 1rem;\n  font-weight: bold;\n`\n\nexport default function Login() {\n  const { login } = React.useContext(AuthContext)\n  const formik = useFormik({\n    initialValues: {\n      number: '',\n      password: '',\n    },\n    onSubmit: values => {\n      login(values.number, values.password)\n    },\n  })\n\n  return (\n    <LoginWrapper className=\"rap\">\n      <LoginCard>\n        <Header>\n          <Title>한양대학교ERCIA</Title>\n          <SubTitle>3D 프린터 예약</SubTitle>\n        </Header>\n\n        <form onSubmit={formik.handleSubmit}>\n          <FormControl>\n            <label htmlFor=\"id\">학번</label>\n            <input\n              type=\"number\"\n              id=\"id\"\n              placeholder=\"학번을 입력해주세요.\"\n              name=\"number\"\n              onChange={formik.handleChange}\n              value={formik.values.number}\n            />\n          </FormControl>\n          <FormControl>\n            <label htmlFor=\"password\">비밀번호</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              placeholder=\"비밀번호을 입력해주세요.\"\n              name=\"password\"\n              onChange={formik.handleChange}\n              value={formik.values.password}\n            />\n          </FormControl>\n          <FormControl>\n            <button className=\"submit-button\" type=\"submit\">로그인</button>\n          </FormControl>\n        </form>\n      </LoginCard>\n    </LoginWrapper>\n  )\n}","import styled from 'styled-components'\nimport moment from 'moment'\n\nconst PrinterWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  padding: .5rem;\n  border-radius: .5rem;\n  border: 1px solid #ddd;\n\n  .title {\n    margin-bottom: .5rem;\n    font-size: 1.2rem;\n    font-weight: normal;\n  }\n\n  .lastest {\n    font-size: .8rem;\n    color: #333;\n  }\n\n  ${props => props.active && (`\n    background: #3f62f8;\n    border: none;\n    color: #00cf91;\n    box-shadow: 0 0 1rem lightgray;\n\n    .title {\n      font-weight: bold;\n    }\n\n    .lastest {\n      color: #fff;\n    }\n  `)}\n`\n\nexport default function Printer({ printer, onClick, loading, ...props }) {\n  return (\n    <PrinterWrapper\n      active={printer.active}\n      onClick={(e) => onClick(printer)}\n      {...props}\n    >\n      <h2 className=\"title\">{printer.name}</h2>\n      <div className=\"lastest\">\n        {\n          printer.latest ? (\n            <>\n              <p>최근사용자: {printer.latest.userName}</p>\n              <p>\n                {moment(printer.latest.startDate).format(\"MM-DD HH:mm\")} ~\n                {moment(printer.latest.endDate).format(\"MM-DD HH:mm\")}\n              </p>\n            </>\n          ) : (\n            <>\n              <p>최근사용자: 없음</p>\n              <p>없음</p>\n            </>\n          )\n        }\n      </div>\n    </PrinterWrapper>\n  )\n}","import styled from 'styled-components'\nimport { List } from \"../styles/ui\";\nimport Printer from './Printer'\n\nconst ListWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  flex-direction: row;\n\n  .column {\n    width: 48.5%;\n    margin-bottom: .75rem;\n  }\n`\n\nexport default function PrinterList({ title, printers, printerEtcProps, ...props }) {\n  return (\n    <List {...props}>\n      <h2 className=\"title\">{title}</h2>\n      <ListWrapper className=\"list printerList\">\n        {printers.map(printer => (\n          <div key={printer.id} className=\"column\">\n            <Printer\n              printer={printer}\n              {...printerEtcProps}\n            />\n          </div>\n        ))}\n      </ListWrapper>\n    </List>\n  )\n}","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  padding: 1rem;\n  border-radius: 1rem;\n`\nconst Left = styled.div`\n  height: 100%;\n`\nconst Right = styled.div`\n  height: 100%;\n`\n\nexport default function UserProfile({ left, right, ...props }) {\n  return (\n    <Wrapper {...props}>\n      <Left>\n        {left}\n      </Left>\n      <Right>\n        {right}\n      </Right>\n    </Wrapper>\n  )\n}","import React from 'react'\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst initState = {\n  onShow () {}\n}\n\nconst UIContext = React.createContext(initState);\n\nexport default UIContext;\n\nexport function UIContextProvider({ children }) {\n  const onShow = React.useCallback((message, type = \"info\", option) => {\n    if (typeof toast[type] === \"function\") {\n      toast[type](message, {\n        position: \"top-center\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        ...option\n      })\n    } else {\n      console.log('undefined toast type');\n    }\n  }, [])\n\n  return (\n    <UIContext.Provider value={{\n      onShow\n    }}>\n      {children}\n      <ToastContainer />\n    </UIContext.Provider>\n  )\n}\n","import React from 'react'\nimport API from '../api'\nimport useModal from './useModal'\n\nexport default function usePrinter() {\n  const [printers, setPrinters] = React.useState([])\n  const loading = useModal()\n  const { handleOpen, handleClose } = loading;\n\n  const getPrinters = React.useCallback(async () => {\n    handleOpen(\"\");\n    const printers = await API.getPrinters();\n    setPrinters(printers.data.printers)\n    handleClose();\n  }, [])\n\n  const createPrinter = React.useCallback(async (printer = {}) => {\n    handleOpen();\n    const response = await API.createPrinter(printer);\n\n    if (response.code === 200) {\n      await getPrinters()\n    }\n    handleClose()\n\n    return response;\n  }, [])\n\n  const updatePrinter = React.useCallback(async (printerId, printer) => {\n    handleOpen();\n    const response = await API.updatePrinter(printerId, printer);\n    if (response.code === 200) {\n      await getPrinters()\n    }\n    handleClose()\n\n    return response;\n  }, [])\n\n  const deletePrinter = React.useCallback(async (printerId, printer) => {\n    handleOpen();\n    const response = await API.deletePrinter(printerId, printer);\n    if (response.code === 200) {\n      await getPrinters()\n    }\n    handleClose()\n\n    return response;\n  }, [])\n\n  return {\n    printers,\n    loading,\n\n    getPrinters,\n    createPrinter,\n    updatePrinter,\n    deletePrinter\n  }\n}\n","import React from 'react'\nimport API from '../api'\n\nexport default function useHistory() {\n  const [history, setHistory] = React.useState({\n    fetching: false,\n    data: []\n  })\n  const [ranking, setRanking] = React.useState({\n    fetching: false,\n    data: []\n  })\n  \n  const getRanking = React.useCallback(async () => {\n    setRanking({\n      ...ranking,\n      fetch: true,\n    })\n\n    const response = await API.getRanking();\n    setRanking({\n      data: response.data.historys,\n      fetching: false,\n    })\n  }, [])\n\n  const getHistory = React.useCallback(async (printerId) => {\n    setHistory(history => ({\n      ...history,\n      fetching: true,\n    }))\n\n    const response = await API.getHistory(printerId);\n    \n    setHistory({\n      data: response.data.historys,\n      fetching: false,\n    })\n  }, [])\n\n  const createHistory = React.useCallback(async (resInfo) => {\n    const response = await API.printerReservation(resInfo);\n    return response;\n  }, [])\n\n  return {\n    history,\n    ranking,\n\n    getRanking,\n    getHistory,\n    createHistory,\n  }\n}\n","import React from 'react'\nimport { useHistory as reactUseHistory } from 'react-router-dom'\nimport styled from 'styled-components'\nimport { useFormik } from 'formik'\nimport { Card, CardTitle, CardBody, FormControl, List } from '../styles/ui'\nimport PrinterList from '../components/PrinterList'\nimport UserProfile from '../components/UserProfile'\nimport AuthContext from '../contexts/AuthContext'\nimport UIContext from '../contexts/UIContext'\nimport usePrinter from '../hooks/usePrinter'\nimport useHistory from '../hooks/useHistory'\n\nconst MainWrapper = styled.div`\n  width: 100%;\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n\n  .printerList {\n    max-height: 30vh;\n    overflow: auto;\n  }\n`\nconst MainUserProfile = styled(UserProfile)`\n  margin-bottom: 1rem;\n  background: #3f62f8;\n  color: #fff;\n\n  .info {\n    margin-bottom: .25rem;\n    font-size: 1rem;\n  }\n  .number {\n    font-size: 1.5rem;\n    font-weight: bold;\n  }\n\n  .logout, .setting {\n    width: 3.5rem;\n    height: 3.5rem;\n    border: none;\n    background: rgba(255, 255, 255, .85);\n    border-radius: .5rem;\n  }\n  .setting {\n    margin-right: .5rem;\n    background: rgba(255, 255, 255, .65);\n  }\n`\n\nconst TimeWrapper = styled.div`\n  display: flex;\n  margin: 0 -1rem;\n  margin-bottom: 1rem;\n\n  > div {\n    width: 50%;\n    padding: 0 1rem;\n  }\n`\n\nconst MainList = styled(List)`\n  padding-top: 2rem;\n  border-top: 1px solid #ededed;\n`\n\nexport default function Main() {\n  const [activePrinter, setActivePrinter] = React.useState(1)\n  const { logout, userInfo, modal } = React.useContext(AuthContext)\n  const { onShow } = React.useContext(UIContext)\n  const { printers, getPrinters, loading } = usePrinter()\n  const { createHistory } = useHistory();\n  const history = reactUseHistory();\n\n  const formik = useFormik({\n    initialValues: {\n      name: '',\n      phone: '',\n      outputHour: 0,\n      outputMinute: 0,\n    },\n    onSubmit: async (values) => {\n      if (!values.name || !values.phone) {\n        onShow(\"신상 정보를 모두 입력해주세요.\", \"error\");\n        return;\n      }\n\n      if (Number(values.outputHour) * 60 + Number(values.outputMinute) <= 0) {\n        onShow(\"출력 걸리는 시간을 입력해주세요.\", \"error\");\n        return;\n      }\n\n      modal.handleOpen(\"\")\n      await createHistory({\n        ...values,\n        printerId: activePrinter\n      });\n      await getPrinters();\n      modal.handleClose(\"\")\n      onShow(\"예약이 완료되었습니다.\", \"success\");\n      history.push(`/history?printerId=${activePrinter}`)\n    },\n  })\n\n  const _printers = printers.map((printer) => ({\n    ...printer,\n    active: printer.id === activePrinter\n  }))\n\n  React.useEffect(() => {\n    getPrinters();\n  }, [getPrinters])\n\n  React.useEffect(() => {\n    formik.setValues({\n      name: userInfo.name,\n      phone: userInfo.phone,\n      outputHour: '',\n      outputMinute: '',\n    })\n  }, [userInfo])\n\n  React.useEffect(() => {\n    if (printers.length !== 0) {\n      setActivePrinter(printers[0].id)\n    }\n  }, [printers])\n\n  return (\n    <MainWrapper className=\"rap\">\n      <MainUserProfile\n        left={\n        <div>\n          <p className=\"info\">로그인 정보</p>\n          <p className=\"number\">{userInfo.id}</p>\n        </div>\n        }\n        right={\n        <>\n          {userInfo.isAdmin && (\n            <button className=\"setting\" onClick={() => history.push(\"/admin\")}>\n              <span className=\"material-icons\">settings</span>\n            </button>\n          )}\n          <button className=\"logout\" onClick={() => logout()}>\n            <span className=\"material-icons\">power_settings_new</span>\n          </button>\n        </>\n        }\n      />\n      <Card>\n        <CardTitle>예약</CardTitle>\n        <CardBody>\n          <form onSubmit={formik.handleSubmit}>\n            <PrinterList\n              title=\"3D 프린터 선택\"\n              printers={_printers}\n              printerEtcProps={{\n                onClick: (printer) => { setActivePrinter(printer.id) },\n                loading: loading.open,\n              }}\n            />\n\n            <MainList>\n              <h2 className=\"title\">신상정보 입력</h2>\n              <div className=\"list\">\n              <FormControl>\n                  <label>학번</label>\n                  <input\n                    type=\"text\"\n                    disabled\n                    defaultValue={userInfo.id}\n                  />\n                </FormControl>\n\n                <FormControl>\n                  <label htmlFor=\"name\">이름</label>\n                  <input\n                    type=\"text\"\n                    id=\"name\"\n                    name=\"name\"\n                    value={formik.values.name}\n                    onChange={formik.handleChange}\n                  />\n                </FormControl>\n                <FormControl>\n                  <label htmlFor=\"phone\">전화번호</label>\n                  <input\n                    type=\"text\"\n                    pattern=\"[0-9]*\"\n                    inputMode=\"numeric\"\n                    id=\"phone\"\n                    name=\"phone\"\n                    value={formik.values.phone}\n                    onChange={formik.handleChange}\n                  />\n                </FormControl>\n              </div>\n            </MainList>\n\n            <MainList>\n            <h2 className=\"title\">출력물 출력 걸리는 시간</h2>\n            <div className=\"list\">\n              <TimeWrapper>\n                <FormControl>\n                  <label htmlFor=\"hour\">시간</label>\n                  <input\n                    type=\"number\"\n                    id=\"hour\"\n                    name=\"outputHour\"\n                    value={formik.values.outputHour}\n                    onChange={formik.handleChange}\n                  />\n                </FormControl>\n                <FormControl>\n                  <label htmlFor=\"minute\">분</label>\n                  <input\n                    type=\"number\"\n                    id=\"minute\"\n                    name=\"outputMinute\"\n                    value={formik.values.outputMinute}\n                    onChange={formik.handleChange}\n                  />\n                </FormControl>\n              </TimeWrapper>\n              <FormControl>\n                <button type=\"submit\" className=\"submit-button\">예약</button>\n              </FormControl>\n            </div>\n          </MainList>\n          </form>\n        </CardBody>\n      </Card>\n    </MainWrapper>\n  )\n}","import React from 'react'\nimport styled from 'styled-components'\nimport moment from 'moment'\nimport { Card, CardBody } from '../styles/ui'\n\nconst Wrapper = styled.div`\n  width: 100%;\n\n  .name {\n    margin-bottom: .75rem;\n    font-size: 1.1rem;\n    font-weight: bold;\n  }\n  \n  .phone {\n    margin-bottom: .25rem;\n  }\n\n  .phone, .date {\n    display: flex;\n    align-items: center;\n  }\n\n  .material-icons {\n    margin-right: .5rem;\n    font-size: 1.2rem;\n  }\n`\n\nexport default function History({ history }) {\n  return (\n    <Card>\n      <CardBody>\n        <Wrapper>\n          <p className=\"name\">{history.userId} ({history.userName})</p>\n          <p className=\"phone\">\n            <span className=\"material-icons\">call</span>\n            {history.userPhone.replace( /(^02.{0}|^01.{1}|[0-9]{3})([0-9]+)([0-9]{4})/, \"$1-$2-$3\" )}\n          </p>\n          <p className=\"date\">\n            <span className=\"material-icons\">schedule</span>\n            {moment(history.startDate).format(\"MM-DD HH:mm\")} ~ {moment(history.endDate).format(\"MM-DD HH:mm\")}\n          </p>\n        </Wrapper>\n      </CardBody>\n    </Card>\n  )\n}\n","import { Tabs as TabWrapper, TabItem } from '../styles/ui'\n\nexport default function Tabs({ tabs, onActive, active, ...props }) {\n  return (\n    <TabWrapper {...props}>\n      {tabs.map(tab => (\n        <TabItem\n          active={active === tab.id}\n          key={tab.id}\n          onClick={() => onActive(tab)}\n        >{tab.name}</TabItem>\n      ))}\n    </TabWrapper>\n  )\n}\n","import React from 'react'\nimport { useLocation } from 'react-router-dom'\nimport styled from 'styled-components'\nimport HistoryItem from '../components/History'\nimport Tabs from '../components/Tabs'\nimport usePrinter from '../hooks/usePrinter'\nimport useHistory from '../hooks/useHistory'\nimport useTabs from '../hooks/useTabs'\nimport { List, Card, CardTitle } from '../styles/ui'\nimport AuthContext from '../contexts/AuthContext'\n\nconst ItemWrapper = styled.div`\n  margin-bottom: 1rem;\n`\n\nconst Wrapper = styled(Card)`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n`\n\nconst Header = styled.div`\n  position: relative;\n  z-index: 3;\n  background: #fff;\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n  box-shadow: 0 0 1rem rgba(0, 0, 0, .25);\n`\nconst Body = styled.div`\n  flex: 1;\n  overflow: auto;\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n`\n\nconst Empty = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 3rem;\n  color: #999;\n\n  .material-icons {\n    font-size: 6rem;\n  }\n\n  div {\n    margin-top: 1rem;\n    font-size: 1.5rem;\n  }\n`\n\nexport default function History() {\n  const { history, getHistory } = useHistory();\n  const { printers, getPrinters, loading } = usePrinter()\n  const { active, setActive, handleTabClick } = useTabs(null)\n  const { modal } = React.useContext(AuthContext)\n  const location = useLocation();\n\n  const printerTabs = printers.map(printer => ({\n    id: printer.id,\n    name: printer.name,\n  }))\n\n  React.useEffect(() => {\n    const query = new URLSearchParams(location.search);\n    const printerId = query.get(\"printerId\");\n\n    if (printerId) {\n      setActive(Number(printerId));\n    }\n    getPrinters();\n  }, [getPrinters])\n\n  React.useEffect(() => {\n    if (active) getHistory(active)\n  }, [active, getHistory])\n\n  React.useEffect(() => {\n    if (printers.length !== 0 && active === null) {\n      setActive(printers[0].id)\n    }\n  }, [printers, handleTabClick])\n\n  React.useEffect(() => {\n    if (loading.open || history.fetching) {\n      modal.handleOpen()\n    } else if (!(loading.open && history.fetching)) {\n      modal.handleClose()\n    }\n  }, [loading.open, history.fetching])\n\n  return (\n    <Wrapper>\n      <Header className=\"rap\">\n        <CardTitle>사용내역</CardTitle>\n        <Tabs\n          tabs={printerTabs}\n          onActive={handleTabClick}\n          active={active}\n        />\n      </Header>\n      <Body>\n        <List className=\"rap\">\n          <div className=\"list\">\n            {history.data.map((data) => (\n              <ItemWrapper key={data.id}>\n                <HistoryItem history={data} />\n              </ItemWrapper>\n            ))}\n\n            {history.data.length === 0 && (\n              <Empty>\n                <span className=\"material-icons\">notifications_none</span>\n                <div>사용 내역이 없습니다.</div>\n              </Empty>\n            )}\n          </div>\n        </List>\n      </Body>\n    </Wrapper>\n  )\n}","import React from 'react'\n\nexport default function useTabs(initActive = null) {\n  const [active, setActive] = React.useState(initActive)\n\n  const handleTabClick = React.useCallback((data) => {\n    setActive(data.id)\n  }, [setActive])\n\n  return {\n    active,\n\n    setActive,\n    handleTabClick\n  }\n}","import React from 'react'\nimport styled from 'styled-components'\nimport { List, Card, CardTitle, CardBody } from '../styles/ui'\nimport useHistory from '../hooks/useHistory'\n\nconst Wrapper = styled(Card)`\n  padding: 1rem;\n`\n\nconst RankingTable = styled.table`\n  width: 100%;\n  border-spacing: 0;\n\n  th {\n    padding-top: 1em;\n    padding-bottom: 1em;\n    border-bottom: 1px solid #ccc;\n  }\n\n  td {\n    padding-top: .75em;\n    padding-bottom: .75em;\n    text-align: center;\n  }\n\n  tr td:first-child {\n    font-weight: bold;\n  }\n`\n\nexport default function Ranking() {\n  const { getRanking, ranking } = useHistory()\n  \n  React.useEffect(() => {\n    getRanking();\n  }, [getRanking])\n  \n\n  return (\n    <Wrapper className=\"rap\">\n      <CardTitle>순위</CardTitle>\n      <CardBody>\n        <RankingTable>\n          <thead>\n            <tr>\n              <th>순위</th>\n              <th>학번(이름)</th>\n              <th>사용 횟수</th>\n            </tr>\n          </thead>\n          <tbody>\n            {ranking.data && ranking.data.map((data, key) => (\n              <tr key={data.userId}>\n                <td>#{key + 1}</td>\n                <td>{data.userId} ({data.userName})</td>\n                <td>{data.count}</td>\n              </tr>\n            ))}\n          </tbody>\n        </RankingTable>\n      </CardBody>\n    </Wrapper>\n  )\n}","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components'\nimport { List, Card, CardTitle, CardBody, CardHeader, FormActionControl, FormControl } from '../styles/ui'\nimport AuthContext from '../contexts/AuthContext'\nimport UIContext from '../contexts/UIContext'\nimport usePrinter from '../hooks/usePrinter'\n\n\nconst Wrapper = styled(Card)`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  padding: 1rem;\n`\nconst Body = styled.div`\n  flex: 1;\n  overflow: auto;\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n`\n\nconst HomeLink = styled(Link)`\n  color: inherit;\n  text-decoration: none;\n`\n\nconst BetWeen = styled.div`\n  margin-top: .5rem;\n  margin-bottom: .5rem;\n`\n\nconst AddPrinterButton = styled.button`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  background: none;\n  width: 100%;\n  padding: 1rem 0;\n  border: 2px dotted #ccc;\n  border-radius: .5rem;\n`\n\nexport default function Admin() {\n  const {\n    printers,\n    loading,\n\n    getPrinters,\n    createPrinter,\n    deletePrinter,\n    updatePrinter\n  } = usePrinter()\n  const {\n    modal,\n    admins,\n    userInfo,\n\n    getAdmins,\n    createAdmin,\n    deleteAdmin\n  } = React.useContext(AuthContext)\n  const { onShow } = React.useContext(UIContext)\n\n  const [inputId, setInputId] = React.useState('')\n\n  React.useEffect(() => {\n    if (loading.open) {\n      modal.handleOpen(loading.message)\n    } else {\n      modal.handleClose()\n    }\n  }, [loading.open])\n\n  React.useEffect(() => {\n    getPrinters();\n    getAdmins();\n  }, [])\n\n  const handleAddClick = async () => {\n    const response = await createPrinter();\n\n    if (response && response.code === 200) {\n      onShow(\"생성이 완료되었습니다\", \"success\");\n    }\n  }\n\n  const handleDeleteClick = async (printerId) => {\n    await deletePrinter(printerId);\n  }\n\n  const handleUpdateClick = async (printerId) => {\n    const input = document.getElementById(`printerName${printerId}`);\n\n    if (input) {\n      const printerName = input.value;\n      const response = await updatePrinter(printerId, {\n        name: printerName\n      })\n\n      if (response && response.code === 200) {\n        onShow(\"수정이 완료되었습니다\", \"success\");\n      }\n    }\n  }\n\n  return (\n    <Wrapper className=\"rap\">\n      <CardHeader>\n        <CardTitle>\n          <span>관리자 페이지</span>\n        </CardTitle>\n        <HomeLink to=\"/\">\n          <span className=\"material-icons\">keyboard_return</span>\n        </HomeLink>\n      </CardHeader>\n      <CardBody>\n        <List>\n          <h2 className=\"title\">프린터 관리</h2>\n          {printers.map(printer => (\n            <div key={printer.id}>\n              <FormActionControl>\n                <input\n                  id={`printerName${printer.id}`}\n                  type=\"text\"\n                  placeholder=\"이름을 입력해주세요.\"\n                  defaultValue={printer.name}\n                />\n                <div className=\"action\">\n                  <button\n                    className=\"update\"\n                    onClick={() => handleUpdateClick(printer.id)}\n                  >\n                    수정\n                  </button>\n                  <button\n                    className=\"delete\"\n                    onClick={() => handleDeleteClick(printer.id)}\n                  >\n                    삭제\n                  </button>\n                </div>\n              </FormActionControl>\n            </div>\n          ))}\n          <AddPrinterButton onClick={() => handleAddClick()}>\n            <span className=\"material-icons\">add</span>\n            프린터 추가\n          </AddPrinterButton>\n        </List>\n      </CardBody>\n      <BetWeen />\n      <CardBody>\n        <List>\n          <h2 className=\"title\">관리자 설정</h2>\n          {admins.map(admin => (\n            admin.userId !== userInfo.userId && (\n              <FormActionControl key={admin.userId}>\n              <input\n                type=\"text\"\n                placeholder=\"이름을 입력해주세요.\"\n                defaultValue={admin.userId}\n                readOnly\n              />\n              <div className=\"action\">\n                  <button\n                    className=\"delete\"\n                    onClick={() => deleteAdmin(admin.userId)}\n                  >\n                    삭제\n                  </button>\n                </div>  \n              \n            </FormActionControl>  \n            )\n          ))}\n\n          <FormControl>\n            <input\n              type=\"text\"\n              placeholder=\"학번을 입력해주세요\"\n              value={inputId}\n              onChange={e => setInputId(e.target.value)}\n            />\n          </FormControl>\n          <FormControl>\n            <button className=\"submit-button\" onClick={() => {\n              if (inputId) createAdmin(inputId);\n            }}>추가</button>\n          </FormControl>\n        </List>\n      </CardBody>\n    </Wrapper>\n  )\n}\n","import React from 'react'\nimport { Switch, Route, useLocation, useHistory } from 'react-router-dom'\nimport styled from 'styled-components'\n\nimport AuthContext from './contexts/AuthContext'\n\nimport BottomMenu from './components/BottomMenu';\n\nimport Login from './pages/Login';\nimport Main from './pages/Main'\nimport History from './pages/History'\nimport Ranking from './pages/Ranking'\nimport Admin from './pages/Admin';\n\nimport './App.css';\n\n\nconst BottomMenuWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100vh;\n  overflow: hidden;\n`\n\nconst ContentWrapper = styled.div`\n  width: 100%;\n  flex: 1;\n  background: #ededed;\n  overflow: auto;\n  overflow-x: hidden;\n`\n\nfunction UserAuth({ children, isAdmin }) {\n  const history = useHistory()\n  const { setUserAuth, userInfo } = React.useContext(AuthContext)\n\n  React.useEffect(() => {\n    (async () => {\n      const userInfo = await setUserAuth();\n      \n      if (!userInfo || userInfo.userId === null) {\n        history.push(\"/login\")\n        return;\n      }\n      \n      if (userInfo.isAdmin === false && isAdmin === true) {\n        history.push(\"/\")\n        return;\n      }\n    })();\n  }, [])\n\n  if (!userInfo.id) return null;\n\n  return (\n    <>{children}</>\n  )\n}\n\nfunction App() {\n  const location = useLocation()\n\n  return (\n    <Switch>\n      <Route path={[\"/\", \"/ranking\", \"/history\"]} exact>\n        <UserAuth>\n          <BottomMenuWrapper>\n            <ContentWrapper>\n              <Route path=\"/\" exact><Main /></Route>\n              <Route path=\"/ranking\" exact><Ranking /></Route>\n              <Route path=\"/history\" exact><History /></Route>\n            </ContentWrapper>\n            <BottomMenu />\n          </BottomMenuWrapper>\n        </UserAuth>\n      </Route>\n      <Route path=\"/login\" exact><Login /></Route>\n\n      <UserAuth isAdmin>\n        <Route path=\"/admin\" exact><Admin /></Route>\n      </UserAuth>\n    </Switch>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './contexts/AuthContext';\nimport { UIContextProvider } from './contexts/UIContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <UIContextProvider>\n        <AuthContextProvider>\n          <App />\n        </AuthContextProvider>\n      </UIContextProvider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}